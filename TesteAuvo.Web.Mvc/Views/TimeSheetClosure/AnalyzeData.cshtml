@{
    ViewData["Title"] = "Análise de CSV";
}
<script>
    function DownloadContent() {
        const textAreaEl = document.getElementById('json-content');
        const content = textAreaEl.value;
        const blob = new Blob([content], { type: 'text/plain' });
        const tmpUrl = window.URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = tmpUrl;
        link.download = 'Fechamento.json';
        link.click();
        window.URL.revokeObjectURL(tmpUrl);
    }
</script>
<style>
    #btn-download {
        min-width: 150px;
    }
</style>
<div>
    <form>
        <div>
            <label for="json-content" class="form-label">Resultado ✅</label>
            <textarea readonly class="form-control" id="json-content" rows="25">@ViewBag.jsonContent</textarea>
        </div>
        <div class="mt-3 d-grid gap-2 d-md-flex justify-content-md-end">
            <button id="btn-download" onclick="DownloadContent()" class="btn btn-primary" type="button">Download</button>
        </div>
    </form>
</div>